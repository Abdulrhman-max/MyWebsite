<div class="main-body">
  <div class="page-wrapper">
    <div class="page-body">
      <div class="row">
        <div class="col-sm-12">
          <form (ngSubmit)="Submit()" #creatGroup="ngForm">
            <mat-card>
              <mat-card-header>
                <mat-card-title>Creat New Group</mat-card-title>
              </mat-card-header>
              <mat-card-content>
                <h4>Reference number</h4>
                <mat-form-field appearance="fill">
                  <mat-label>Reference number</mat-label>
                  <input
                    name="codeInput"
                    matInput
                    [(ngModel)]="groupResponse.Code"
                  />
                </mat-form-field>
                <h4>Arabic Name</h4>
                <mat-form-field appearance="fill">
                  <mat-label>Arabic name</mat-label>
                  <input
                    name="arabicNameInput"
                    matInput
                    [(ngModel)]="groupResponse.ArabicName"
                  />
                </mat-form-field>
                <h4>English Name</h4>
                <mat-form-field appearance="fill">
                  <mat-label>English name</mat-label>
                  <input
                    name="latinNameInput"
                    matInput
                    [(ngModel)]="groupResponse.LatinName"
                  />
                </mat-form-field>
                <p>Parent Group</p>
                <mat-form-field appearance="fill">
                  <mat-select
                    (selectionChange)="groupResponse.ParentId = $event.value"
                    [(ngModel)]="groupResponse.ParentId"
                    name="parentId"
                  >
                    <mat-option
                      *ngFor="let element of groupList"
                      [value]="element.Id"
                    >
                      {{ element.LatinName }}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
                <p>Status</p>
                <mat-form-field appearance="fill">
                  <mat-select name="status" [(ngModel)]="groupResponse.Status">
                    <mat-option [value]="1">Active </mat-option>
                    <mat-option [value]="0">Inactive </mat-option>
                  </mat-select>
                </mat-form-field>
                <mat-form-field>
                  <div>
                    <mat-toolbar>
                      <!-- Display files names -->
                      <input
                        matInput
                        [(ngModel)]="fileAttr"
                        readonly
                        name="name"
                      />
                      <!-- Browse Button -->
                      <button mat-flat-button color="primary">
                        Browse File
                      </button>
                    </mat-toolbar>

                    <!-- Fetch selected filed on change -->
                    <input
                      type="file"
                      #fileInput
                      id="uploadFile"
                      (change)="uploadFileEvt($event)"
                      name="uploadFile"
                      multiple="multiple"
                      accept="image/*"
                      ngDefaultControl
                    />
                    <img
                      [src]="imageSource"
                      [(ngModel)]="groupResponse.Photo"
                      name="img"
                      ngDefaultControl
                    />
                  </div>
                </mat-form-field>
                <p>Inactive Branch</p>
                <mat-form-field appearance="fill">
                  <mat-label>Branch</mat-label>
                  <mat-select
                    (selectionChange)="
                      groupResponse.ExcludedBranches = $event.value
                    "
                    multiple
                    [formControl]="selectedOptions"
                  >
                    <mat-option
                      *ngFor="let branch of BranchList"
                      [value]="branch.Id"
                      >{{ branch.LatinName }}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </mat-card-content>

              <mat-card-actions align="start">
                <!-- <button mat-button color="primary">Cancel</button>
                <button mat-button>Save</button> -->
                <section>
                  <div *ngIf="isButtonVisible; else elseBlock">
                    <button type="submit" mat-raised-button color="primary">
                      <mat-icon>add</mat-icon>
                      <span class="button-text">Create Group</span>
                    </button>
                  </div>
                  <ng-template #elseBlock>
                    <button type="submit" mat-raised-button color="primary">
                      <mat-icon>edit</mat-icon>
                      <span class="button-text">Edit Group</span>
                    </button>
                  </ng-template>
                </section>
              </mat-card-actions>
            </mat-card>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
